--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------LESSONS IN ELECTRIC CIRCUITS -- VOLUME III--------- CHAPTER---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 9  PRACTICAL ANALOG SEMICONDUCTOR CIRCUITS--------------- **INCOMPLETE----------------------------POWER SUPPLY CIRCUITS -- INCOMPLETE-------------- THERE ARE THREE MAJOR KINDS OF POWER SUPPLIES:--- UNREGULATED---- (ALSO CALLED--- BRUTE FORCE----),--- LINEAR REGULATED----, AND--- SWITCHING----.- A FOURTH TYPE OF POWER SUPPLY CIRCUIT CALLED THE--- RIPPLE-REGULATED----- IS A HYBRID BETWEEN-THE "BRUTE FORCE" AND "SWITCHING" DESIGNS, AND MERITS A SUBSECTION TO ITSELF.---------------- UNREGULATED-------------- AN UNREGULATED POWER SUPPLY IS THE MOST RUDIMENTARY TYPE, CONSISTING OF A TRANSFORMER, RECTIFIER, AND LOW-PASS FILTER.- THESE POWER SUPPLIES TYPICALLY EXHIBIT A-LOT OF RIPPLE VOLTAGE (I.E. RAPIDLY-VARYING INSTABILITY) AND OTHER AC "NOISE" SUPERIMPOSED ON THE DC POWER.- IF THE INPUT VOLTAGE VARIES, THE OUTPUT VOLTAGE WILL VARY BY A PROPORTIONAL AMOUNT.- THE ADVANTAGE OF AN UNREGULATED SUPPLY IS THAT IT'S CHEAP, SIMPLE, AND EFFICIENT.------------------ LINEAR REGULATED-------------- A LINEAR REGULATED SUPPLY IS-SIMPLY A "BRUTE FORCE---UNREGULATED) POWER SUPPLY FOLLOWED BY A TRANSISTOR CIRCUIT OPERATING IN ITS "ACTIVE-- OR "LINEAR" MODE, HENCE THE NAME--- LINEAR---- REGULATOR.---OBVIOUS IN RETROSPECT, ISN'T IT?-) A TYPICAL LINEAR REGULATOR IS DESIGNED TO OUTPUT-A FIXED VOLTAGE FOR A WIDE RANGE OF INPUT VOLTAGES, AND IT SIMPLY DROPS ANY EXCESS-INPUT VOLTAGE TO ALLOW A MAXIMUM OUTPUT-VOLTAGE TO THE LOAD.- THIS EXCESS VOLTAGE DROP RESULTS IN SIGNIFICANT POWER DISSIPATION IN THE FORM OF HEAT.- IF-THE INPUT VOLTAGE GETS TOO LOW, THE TRANSISTOR CIRCUIT WILL-LOSE REGULATION, MEANING THAT IT WILL FAIL TO-KEEP THE VOLTAGE STEADY.- IT CAN ONLY DROP EXCESS VOLTAGE, NOT MAKE UP FOR A DEFICIENCY IN VOLTAGE FROM THE BRUTE FORCE SECTION OF THE CIRCUIT.- THEREFORE, YOU HAVE TO KEEP THE INPUT VOLTAGE AT LEAST 1 TO 3 VOLTS HIGHER THAN THE DESIRED OUTPUT, DEPENDING ON-THE REGULATOR TYPE. -THIS MEANS THE POWER EQUIVALENT OF AT--- LEAST---- 1 TO 3 VOLTS MULTIPLIED BY THE FULL LOAD CURRENT WILL BE DISSIPATED BY THE REGULATOR CIRCUIT, GENERATING A LOT OF HEAT.- THIS MAKES LINEAR REGULATED POWER SUPPLIES RATHER INEFFICIENT.- ALSO, TO GET RID OF ALL THAT HEAT THEY HAVE TO USE LARGE HEAT SINKS WHICH MAKES THEM LARGE, HEAVY, AND EXPENSIVE.------------------ SWITCHING-------------- A SWITCHING REGULATED POWER SUPPLY ("SWITCHER") IS AN EFFORT TO REALIZE THE ADVANTAGES OF BOTH BRUTE FORCE AND LINEAR REGULATED DESIGNS (SMALL, EFFICIENT, AND CHEAP, BUT ALSO "CLEAN," STABLE OUTPUT VOLTAGE).- SWITCHING POWER SUPPLIES WORK ON THE PRINCIPLE OF RECTIFYING THE INCOMING AC POWER LINE VOLTAGE INTO DC, RE-CONVERTING IT INTO HIGH-FREQUENCY SQUARE-WAVE AC THROUGH TRANSISTORS OPERATED AS ON/OFF SWITCHES, STEPPING THAT AC VOLTAGE UP OR DOWN BY USING A LIGHTWEIGHT TRANSFORMER, THEN RECTIFYING THE TRANSFORMER'S AC OUTPUT INTO DC AND FILTERING FOR FINAL OUTPUT.- VOLTAGE REGULATION IS ACHIEVED BY ALTERING THE "DUTY CYCLE" OF THE DC-TO-AC INVERSION ON THE TRANSFORMER'S PRIMARY SIDE.- IN ADDITION TO LIGHTER WEIGHT BECAUSE OF A SMALLER TRANSFORMER CORE, SWITCHERS HAVE ANOTHER TREMENDOUS ADVANTAGE OVER THE PRIOR TWO DESIGNS: THIS TYPE OF POWER SUPPLY CAN BE MADE SO TOTALLY INDEPENDENT OF THE INPUT VOLTAGE THAT IT CAN WORK ON ANY ELECTRIC POWER SYSTEM IN THE WORLD; THESE ARE CALLED "UNIVERSAL" POWER SUPPLIES.------------ THE DOWNSIDE OF SWITCHERS IS THAT THEY ARE MORE COMPLEX, AND DUE TO THEIR OPERATION THEY TEND TO GENERATE A LOT OF HIGH-FREQUENCY AC "NOISE" ON THE POWER LINE.- MOST SWITCHERS ALSO HAVE SIGNIFICANT RIPPLE VOLTAGE ON THEIR OUTPUTS.- WITH THE CHEAPER TYPES, THIS NOISE AND RIPPLE CAN BE AS BAD AS FOR AN UNREGULATED POWER SUPPLY; SUCH LOW-END SWITCHERS AREN'T WORTHLESS, BECAUSE THEY STILL PROVIDE A STABLE AVERAGE OUTPUT VOLTAGE, AND THERE'S THE "UNIVERSAL" INPUT CAPABILITY.------------ EXPENSIVE SWITCHERS ARE RIPPLE-FREE AND HAVE NOISE NEARLY AS LOW AS FOR SOME A LINEAR TYPES; THESE SWITCHERS TEND TO BE AS EXPENSIVE AS LINEAR SUPPLIES.- THE REASON TO USE AN EXPENSIVE SWITCHER INSTEAD OF A GOOD LINEAR IS IF YOU NEED UNIVERSAL POWER SYSTEM COMPATIBILITY OR HIGH EFFICIENCY.- HIGH EFFICIENCY, LIGHT WEIGHT, AND SMALL SIZE ARE THE REASONS SWITCHING POWER SUPPLIES ARE ALMOST UNIVERALLY USED FOR POWERING DIGITAL COMPUTER CIRCUITRY.------------------- RIPPLE REGULATED-------------- A RIPPLE-REGULATED POWER SUPPLY IS AN ALTERNATIVE TO THE LINEAR REGULATED DESIGN SCHEME: A "BRUTE FORCE" POWER SUPPLY (TRANSFORMER, RECTIFIER, FILTER) CONSTITUTES THE "FRONT END" OF THE CIRCUIT, BUT A TRANSISTOR OPERATED STRICTLY IN ITS ON/OFF (SATURATION/CUTOFF) MODES TRANSFERS DC POWER TO A LARGE CAPACITOR AS NEEDED TO MAINTAIN THE OUTPUT VOLTAGE BETWEEN A HIGH AND A LOW SETPOINT.- AS IN SWITCHERS, THE TRANSISTOR IN A RIPPLE REGULATOR NEVER PASSES CURRENT WHILE IN ITS "ACTIVE," OR "LINEAR," MODE FOR ANY SUBSTANTIAL LENGTH OF TIME, MEANING THAT VERY LITTLE ENERGY WILL BE WASTED IN THE FORM OF HEAT.- HOWEVER, THE BIGGEST DRAWBACK TO THIS REGULATION SCHEME IS THE NECESSARY PRESENCE OF SOME RIPPLE VOLTAGE ON THE OUTPUT, AS THE DC VOLTAGE VARIES BETWEEN THE TWO VOLTAGE CONTROL SETPOINTS.- ALSO, THIS RIPPLE VOLTAGE VARIES IN FREQUENCY DEPENDING ON LOAD CURRENT, WHICH MAKES FINAL FILTERING OF THE DC POWER MORE DIFFICULT.---------- RIPPLE REGULATOR CIRCUITS TEND TO BE QUITE-A BIT SIMPLER THAN SWITCHER CIRCUITRY, AND THEY NEED NOT HANDLE THE HIGH POWER LINE VOLTAGES THAT SWITCHER TRANSISTORS MUST HANDLE, MAKING THEM SAFER TO WORK ON.---------------------------  AMPLIFIER CIRCUITS -- PENDING--------------------------------------  OSCILLATOR CIRCUITS -- PENDING--------------------------------------  PHASE-LOCKED LOOPS -- PENDING---------------------------------------  RADIO CIRCUITS -- PENDING--------------------------------------  COMPUTATIONAL CIRCUITS-------------- WHEN SOMEONE MENTIONS THE WORD "COMPUTER," A DIGITAL DEVICE IS WHAT USUALLY COMES TO MIND. -DIGITAL CIRCUITS REPRESENT NUMERICAL QUANTITIES IN--- BINARY---- FORMAT: PATTERNS OF 1'S AND 0'S REPRESENTED BY A MULTITUDE OF TRANSISTOR CIRCUITS OPERATING IN SATURATED OR CUTOFF STATES.- HOWEVER, ANALOG CIRCUITRY MAY ALSO BE USED TO REPRESENT NUMERICAL QUANTITIES AND PERFORM MATHEMATICAL CALCULATIONS, BY USING VARIABLE VOLTAGE SIGNALS INSTEAD OF DISCRETE ON/OFF STATES.---------- HERE IS A SIMPLE EXAMPLE OF BINARY (DIGITAL) REPRESENTATION VERSUS ANALOG REPRESENTATION OF THE NUMBER "TWENTY-FIVE:---------------------------------------------------------------------------------------------------" DIGITAL CIRCUITS ARE VERY DIFFERENT FROM CIRCUITS BUILT ON ANALOG PRINCIPLES.- DIGITAL COMPUTATIONAL CIRCUITS CAN BE INCREDIBLY COMPLEX, AND CALCULATIONS MUST OFTEN BE PERFORMED IN SEQUENTIAL "STEPS" TO OBTAIN A FINAL ANSWER, MUCH AS A HUMAN BEING WOULD PERFORM ARITHMETICAL CALCULATIONS IN STEPS WITH PENCIL AND PAPER.- ANALOG COMPUTATIONAL CIRCUITS, ON THE OTHER HAND, ARE QUITE SIMPLE IN COMPARISON, AND PERFORM THEIR CALCULATIONS IN CONTINUOUS, REAL-TIME FASHION.- THERE IS A DISADVANTAGE TO USING ANALOG CIRCUITRY TO REPRESENT NUMBERS, THOUGH: IMPRECISION.- THE DIGITAL CIRCUIT SHOWN ABOVE IS REPRESENTING THE NUMBER-TWENTY-FIVE, PRECISELY.- THE ANALOG CIRCUIT SHOWN ABOVE MAY OR MAY NOT BE EXACTLY CALIBRATED TO 25.000 VOLTS, BUT IS SUBJECT TO "DRIFT" AND ERROR.---------- IN APPLICATIONS WHERE PRECISION IS NOT CRITICAL, ANALOG COMPUTATIONAL CIRCUITS ARE VERY PRACTICAL AND ELEGANT.- SHOWN HERE ARE A FEW OP-AMP CIRCUITS FOR PERFORMING ANALOG COMPUTATION:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- EACH OF THESE CIRCUITS MAY BE USED IN MODULAR FASHION TO CREATE A CIRCUIT CAPABLE OF MULTIPLE CALCULATIONS.- FOR INSTANCE, SUPPOSE THAT WE NEEDED TO SUBTRACT A CERTAIN FRACTION OF ONE VARIABLE FROM ANOTHER VARIABLE.- BY COMBINING A DIVIDE-BY-CONSTANT CIRCUIT WITH A SUBTRACTOR CIRCUIT, WE COULD OBTAIN THE REQUIRED FUNCTION:-------------------------------------------------------------------------------------------------------------------------------------------------- DEVICES CALLED--- ANALOG COMPUTERS---- USED TO BE COMMON IN UNIVERSITIES AND ENGINEERING SHOPS, WHERE DOZENS OF OP-AMP CIRCUITS COULD BE "PATCHED" TOGETHER WITH REMOVABLE JUMPER WIRES TO MODEL MATHEMATICAL STATEMENTS, USUALLY FOR THE PURPOSE OF SIMULATING SOME PHYSICAL PROCESS WHOSE UNDERLYING EQUATIONS WERE KNOWN.- DIGITAL COMPUTERS HAVE MADE ANALOG COMPUTERS ALL BUT OBSOLETE, BUT ANALOG COMPUTATIONAL CIRCUITRY CANNOT BE BEATEN BY DIGITAL IN TERMS OF SHEER ELEGANCE AND ECONOMY OF NECESSARY COMPONENTS.---------- ANALOG COMPUTATIONAL CIRCUITRY EXCELS AT PERFORMING THE CALCULUS OPERATIONS--- INTEGRATION---- AND--- DIFFERENTIATION---- WITH RESPECT TO-TIME, BY USING CAPACITORS IN AN OP-AMP FEEDBACK LOOP.- TO FULLY UNDERSTAND THESE CIRCUITS' OPERATION AND APPLICATIONS, THOUGH, WE MUST FIRST GRASP THE MEANING OF THESE FUNDAMENTAL CALCULUS CONCEPTS.- FORTUNATELY, THE APPLICATION OF OP-AMP CIRCUITS TO REAL-WORLD PROBLEMS INVOLVING CALCULUS SERVES AS AN EXCELLENT MEANS TO TEACH BASIC CALCULUS.- IN THE WORDS OF JOHN I. SMITH, TAKEN FROM HIS OUTSTANDING TEXTBOOK,--- MODERN OPERATIONAL CIRCUIT DESIGN----:--------------------------- "A NOTE OF ENCOURAGEMENT IS OFFERED TO CERTAIN READERS: INTEGRAL CALCULUS IS ONE OF THE MATHEMATICAL DISCIPLINES THAT OPERATIONAL [AMPLIFIER] CIRCUITRY EXPLOITS AND, IN THE PROCESS, RATHER DEMOLISHES AS A BARRIER TO UNDERSTANDING.----" (PG. 4)------------------------- MR. SMITH'S SENTIMENTS ON THE PEDAGOGICAL VALUE OF ANALOG CIRCUITRY AS A LEARNING TOOL FOR MATHEMATICS ARE NOT UNIQUE.- CONSIDER THE OPINION OF ENGINEER GEORGE FOX LANG, IN AN ARTICLE HE WROTE FOR THE AUGUST 2000 ISSUE OF THE JOURNAL--- SOUND AND VIBRATION----, ENTITLED, "ANALOG WAS--- NOT---- A COMPUTER TRADEMARK!":--------------------------- "CREATING A REAL PHYSICAL ENTITY (A CIRCUIT) GOVERNED BY A PARTICULAR SET OF EQUATIONS AND INTERACTING WITH IT PROVIDES UNIQUE INSIGHT INTO THOSE MATHEMATICAL STATEMENTS.- THERE IS NO BETTER WAY TO DEVELOP A "GUT FEEL" FOR THE INTERPLAY BETWEEN PHYSICS AND MATHEMATICS THAN TO EXPERIENCE SUCH AN INTERACTION.- THE ANALOG COMPUTER WAS A POWERFUL INTERDISCIPLINARY TEACHING TOOL; ITS OBSOLESCENCE IS MOURNED BY MANY EDUCATORS IN A VARIETY OF FIELDS.----" (PG. 23)------------------------- DIFFERENTIATION IS THE FIRST OPERATION TYPICALLY LEARNED BY BEGINNING CALCULUS STUDENTS.- SIMPLY PUT, DIFFERENTIATION IS DETERMINING THE RATE-OF-CHANGE OF ONE VARIABLE AS IT RELATES TO ANOTHER.- IN ANALOG DIFFERENTIATOR CIRCUITS, THE INDEPENDENT VARIABLE IS TIME, AND SO THE RATES OF CHANGE WE'RE DEALING WITH ARE RATES OF CHANGE OF SOME MEASURED QUANTITY OVER TIME.----------- SUPPOSE WE WERE TO MEASURE THE POSITION OF A CAR, TRAVELING IN A DIRECT PATH (NO TURNS), FROM ITS STARTING POINT.- LET US CALL THIS MEASUREMENT,--- X----.- IF THE CAR MOVES AT A RATE SUCH THAT ITS DISTANCE FROM "START" INCREASES STEADILY OVER TIME, ITS POSITION WILL PLOT ON A GRAPH AS A--- LINEAR---- FUNCTION (STRAIGHT LINE):-------------------------------------------------------------------------------- IF WE WERE TO CALCULATE THE--- DERIVATIVE---- OF THE CAR'S POSITION WITH RESPECT TO TIME (THAT IS, DETERMINE THE RATE-OF-CHANGE OF THE CAR'S POSITION OVER TIME), WE WOULD ARRIVE AT A QUANTITY REPRESENTING THE CAR'S VELOCITY.- THE DIFFERENTIATION FUNCTION IS REPRESENTED BY THE FRACTIONAL NOTATION--- D/D----, SO WHEN DIFFERENTIATING POSITION (---X----) WITH RESPECT TO TIME (---T----), WE DENOTE THE RESULT (THE DERIVATIVE) AS--- DX/DT----:------------------------------------------- FOR A LINEAR GRAPH OF--- X---- OVER TIME, THE DERIVATE OF POSITION (---DX/DT----), OTHERWISE AND MORE COMMONLY KNOWN AS--- VELOCITY----, WILL BE A FLAT LINE, UNCHANGING IN VALUE.- THE DERIVATIVE OF A MATHEMATICAL FUNCTION MAY BE GRAPHICALLY UNDERSTOOD AS ITS--- SLOPE---- WHEN PLOTTED ON A GRAPH, AND HERE WE CAN SEE THAT THE POSITION (---X----) GRAPH HAS A CONSTANT SLOPE, WHICH MEANS THAT ITS DERIVATIVE (---DX/DT----) MUST BE CONSTANT OVER TIME.---------- NOW, SUPPOSE THE DISTANCE TRAVELED BY THE CAR INCREASED EXPONENTIALLY OVER TIME: THAT IS, IT BEGAN ITS TRAVEL IN SLOW MOVEMENTS, BUT COVERED MORE ADDITIONAL DISTANCE WITH EACH PASSING PERIOD IN TIME.- WE WOULD THEN SEE THAT THE DERIVATIVE OF POSITION (---DX/DT----), OR VELOCITY, WOULD NOT BE CONSTANT OVER TIME, BUT WOULD INCREASE:------------------------------------------- THE HEIGHT OF POINTS ON THE VELOCITY GRAPH CORRESPOND TO THE RATES-OF-CHANGE, OR SLOPE, OF POINTS AT CORRESPONDING TIMES ON THE POSITION GRAPH:------------------------------------------- WHAT DOES THIS HAVE TO DO WITH ANALOG ELECTRONIC CIRCUITS?- WELL, IF WE WERE TO HAVE AN ANALOG VOLTAGE SIGNAL REPRESENT THE CAR'S POSITION (THINK OF A HUGE POTENTIOMETER WHOSE WIPER WAS ATTACHED TO THE CAR, GENERATING A VOLTAGE PROPORTIONAL TO THE CAR'S POSITION), WE COULD CONNECT A DIFFERENTIATOR CIRCUIT TO THIS SIGNAL AND HAVE THE CIRCUIT CONTINUOUSLY--- CALCULATE---- THE CAR'S VELOCITY, DISPLAYING THE RESULT VIA A VOLTMETER CONNECTED TO THE DIFFERENTIATOR CIRCUIT'S OUTPUT:------------------------------------------- RECALL FROM THE LAST CHAPTER THAT A DIFFERENTIATOR CIRCUIT OUTPUTS A VOLTAGE PROPORTIONAL TO THE INPUT VOLTAGE'S--- RATE-OF-CHANGE OVER TIME----.- THUS, IF THE INPUT VOLTAGE IS CHANGING OVER TIME AT A CONSTANT--- RATE----, THE OUTPUT VOLTAGE WILL BE AT A CONSTANT VALUE.- IF THE CAR MOVES IN SUCH A WAY THAT ITS ELAPSED DISTANCE OVER TIME BUILDS UP AT A STEADY RATE, THEN THAT MEANS THE CAR IS TRAVELING AT A CONSTANT VELOCITY, AND THE DIFFERENTIATOR CIRCUIT WILL OUTPUT A CONSTANT VOLTAGE PROPORTIONAL TO THAT VELOCITY.- IF THE CAR'S ELAPSED DISTANCE OVER TIME CHANGES IN A NON-STEADY MANNER, THE DIFFERENTIATOR CIRCUIT'S OUTPUT WILL LIKEWISE BE NON-STEADY, BUT ALWAYS AT A LEVEL REPRESENTATIVE OF THE INPUT'S RATE-OF-CHANGE OVER TIME.---------- NOTE THAT THE VOLTMETER REGISTERING VELOCITY (AT THE OUTPUT OF THE DIFFERENTIATOR CIRCUIT) IS CONNECTED IN "REVERSE" POLARITY TO THE OUTPUT OF THE OP-AMP.- THIS IS BECAUSE THE DIFFERENTIATOR CIRCUIT SHOWN IS--- INVERTING----: OUTPUTTING A NEGATIVE VOLTAGE FOR A POSITIVE INPUT VOLTAGE RATE-OF-CHANGE.- IF WE WISH TO HAVE THE VOLTMETER REGISTER A POSITIVE VALUE FOR VELOCITY, IT WILL HAVE TO BE CONNECTED TO THE OP-AMP AS SHOWN.- AS IMPRACTICAL AS IT MAY BE TO CONNECT A GIANT POTENTIOMETER TO A MOVING OBJECT SUCH AS AN AUTOMOBILE, THE CONCEPT SHOULD BE CLEAR: BY ELECTRONICALLY PERFORMING THE CALCULUS FUNCTION OF DIFFERENTIATION ON A SIGNAL REPRESENTING POSITION, WE OBTAIN A SIGNAL REPRESENTING VELOCITY.---------- BEGINNING CALCULUS STUDENTS LEARN SYMBOLIC TECHNIQUES FOR DIFFERENTIATION.- HOWEVER, THIS REQUIRES THAT THE EQUATION DESCRIBING THE ORIGINAL GRAPH BE KNOWN.- FOR EXAMPLE, CALCULUS STUDENTS LEARN HOW TO TAKE A FUNCTION SUCH AS--- Y = 3X---- AND FIND ITS DERIVATIVE,------- 3, SIMPLY BY MANIPULATING THE EQUATION.- WE MAY VERIFY THE ACCURACY OF THIS MANIPULATION BY COMPARING THE GRAPHS OF THE TWO FUNCTIONS:------------------------------------------- NONLINEAR FUNCTIONS SUCH AS--- Y = 3X--------------^2 MAY ALSO BE DIFFERENTIATED BY SYMBOLIC MEANS.- IN THIS CASE, THE DERIVATIVE OF--- Y = 3X--------------^2 IS--- 6X----:------------------------------------------- IN REAL LIFE, THOUGH, WE OFTEN CANNOT DESCRIBE THE BEHAVIOR OF ANY PHYSICAL EVENT BY A SIMPLE EQUATION LIKE--- Y = 3X----, AND SO SYMBOLIC DIFFERENTIATION OF THE TYPE LEARNED BY CALCULUS STUDENTS MAY BE IMPOSSIBLE TO APPLY TO A PHYSICAL MEASUREMENT.- IF SOMEONE WISHED TO DETERMINE THE DERIVATIVE OF OUR HYPOTHETICAL CAR'S POSITION (---DX/DT---- = VELOCITY) BY SYMBOLIC MEANS, THEY WOULD FIRST HAVE TO OBTAIN AN EQUATION DESCRIBING THE CAR'S POSITION OVER TIME, BASED ON POSITION MEASUREMENTS TAKEN FROM A REAL EXPERIMENT -- A NEARLY IMPOSSIBLE TASK UNLESS THE CAR IS OPERATED UNDER CAREFULLY CONTROLLED CONDITIONS LEADING TO A VERY SIMPLE POSITION GRAPH.- HOWEVER, AN ANALOG DIFFERENTIATOR CIRCUIT, BY EXPLOITING THE BEHAVIOR OF A CAPACITOR WITH RESPECT TO VOLTAGE, CURRENT, AND TIME--- I = C(DV/DT)----, NATURALLY DIFFERENTIATES ANY REAL SIGNAL IN RELATION TO TIME, AND WOULD BE ABLE TO OUTPUT A SIGNAL CORRESPONDING TO INSTANTANEOUS VELOCITY (---DX/DT----) AT ANY MOMENT.- BY LOGGING THE CAR'S POSITION SIGNAL ALONG WITH THE DIFFERENTIATOR'S OUTPUT SIGNAL USING A CHART RECORDER OR OTHER DATA ACQUISITION DEVICE, BOTH GRAPHS WOULD NATURALLY PRESENT THEMSELVES FOR INSPECTION AND ANALYSIS.---------- WE MAY TAKE THE PRINCIPLE OF DIFFERENTIATION ONE STEP FURTHER BY APPLYING IT TO THE VELOCITY SIGNAL USING ANOTHER DIFFERENTIATOR CIRCUIT.- IN OTHER WORDS, USE IT TO CALCULATE THE RATE-OF-CHANGE OF VELOCITY, WHICH WE KNOW IS THE RATE-OF-CHANGE OF POSITION.- WHAT PRACTICAL MEASURE WOULD WE ARRIVE AT IF WE DID THIS?- THINK OF THIS IN TERMS OF THE UNITS WE USE TO MEASURE POSITION AND VELOCITY.- IF WE WERE TO MEASURE THE CAR'S POSITION FROM ITS STARTING POINT IN MILES, THEN WE WOULD PROBABLY EXPRESS ITS VELOCITY IN UNITS OF MILES--- PER HOUR---- (---DX/DT----).- IF WE WERE TO DIFFERENTIATE THE VELOCITY (MEASURED IN MILES PER HOUR), WE WOULD END UP WITH A UNIT OF MILES PER HOUR--- PER HOUR----.- ELEMENTARY PHYSICS CLASSES TEACH STUDENTS ABOUT THE BEHAVIOR OF FALLING OBJECTS, MEASURING POSITION IN--- METERS----, VELOCITY IN--- METERS PER SECOND----, AND CHANGE IN VELOCITY OVER TIME IN--- METERS PER SECOND, PER SECOND----.- THIS FINAL MEASURE IS CALLED--- ACCELERATION----: THE RATE OF CHANGE OF VELOCITY OVER TIME:------------------------------------------- THE EXPRESSION--- D----------^2X/DT--------------^2 IS CALLED THE--- SECOND DERIVATIVE---- OF POSITION (---X----) WITH REGARD TO TIME (---T----).- IF WE WERE TO CONNECT A SECOND DIFFERENTIATOR CIRCUIT TO THE OUTPUT OF THE FIRST, THE LAST VOLTMETER WOULD REGISTER ACCELERATION:------------------------------------------- DERIVING VELOCITY FROM POSITION, AND ACCELERATION FROM VELOCITY, WE SEE THE PRINCIPLE OF DIFFERENTIATION VERY CLEARLY ILLUSTRATED.- THESE ARE NOT THE ONLY PHYSICAL MEASUREMENTS RELATED TO EACH OTHER IN THIS WAY, BUT THEY ARE, PERHAPS, THE MOST COMMON.- ANOTHER EXAMPLE OF CALCULUS IN ACTION IS THE RELATIONSHIP BETWEEN LIQUID VOLUME AND LIQUID FLOW:------------------------------------------- A "LEVEL TRANSMITTER" DEVICE MOUNTED ON A WATER STORAGE TANK PROVIDES A SIGNAL DIRECTLY PROPORTIONAL TO WATER LEVEL IN THE TANK, WHICH -- IF THE TANK IS OF CONSTANT CROSS-SECTIONAL AREA THROUGHOUT ITS HEIGHT -- DIRECTLY EQUATES WATER VOLUME STORED.- IF WE WERE TO TAKE THIS VOLUME SIGNAL AND DIFFERENTIATE IT WITH RESPECT TO TIME (---DV/DT----), WE WOULD OBTAIN A SIGNAL PROPORTIONAL TO THE WATER--- FLOW RATE---- THROUGH THE PIPE CARRYING WATER TO THE TANK.- A DIFFERENTIATOR CIRCUIT CONNECTED IN SUCH A WAY AS TO RECEIVE THIS VOLUME SIGNAL WOULD PRODUCE AN OUTPUT SIGNAL PROPORTIONAL TO FLOW, POSSIBLY SUBSTITUTING FOR A FLOW-MEASUREMENT DEVICE ("FLOW TRANSMITTER") INSTALLED IN THE PIPE.---------- RETURNING TO THE CAR EXPERIMENT, SUPPOSE THAT OUR HYPOTHETICAL CAR WERE EQUIPPED WITH A TACHOGENERATOR ON ONE OF THE WHEELS, PRODUCING A VOLTAGE SIGNAL DIRECTLY PROPORTIONAL TO VELOCITY.- WE COULD DIFFERENTIATE THE SIGNAL TO OBTAIN ACCELERATION WITH ONE CIRCUIT, LIKE THIS:------------------------------------------- IN A SENSE, THE TACHOGENERATOR BY ITS VERY NATURE DIFFERENTIATES THE CAR'S POSITION, GENERATING A VOLTAGE PROPORTIONAL TO HOW RAPIDLY THE WHEEL'S ANGULAR POSITION CHANGES OVER TIME.- THIS PROVIDES US WITH A RAW SIGNAL ALREADY REPRESENTATIVE OF VELOCITY, WITH ONLY A SINGLE STEP OF DIFFERENTIATION NEEDED TO OBTAIN AN ACCELERATION SIGNAL.- A TACHOGENERATOR MEASURING VELOCITY, OF COURSE, IS A FAR MORE PRACTICAL EXAMPLE OF AUTOMOBILE INSTRUMENTATION THAN A GIANT POTENTIOMETER MEASURING ITS PHYSICAL POSITION, BUT WHAT WE GAIN IN PRACTICALITY WE LOSE IN POSITION MEASUREMENT.- NO MATTER HOW MANY TIMES WE DIFFERENTIATE, WE CAN NEVER INFER THE CAR'S POSITION FROM A VELOCITY SIGNAL.- IF THE PROCESS OF DIFFERENTIATION BROUGHT US FROM POSITION TO VELOCITY TO ACCELERATION, THEN SOMEHOW WE NEED TO PERFORM THE "REVERSE" PROCESS OF DIFFERENTIATION TO GO FROM VELOCITY TO POSITION.- SUCH A MATHEMATICAL PROCESS DOES EXIST, AND IT IS CALLED--- INTEGRATION----.- THE "INTEGRATOR" CIRCUIT MAY BE USED TO PERFORM THIS FUNCTION:------------------------------------------- RECALL FROM THE LAST CHAPTER THAT AN INTEGRATOR CIRCUIT OUTPUTS A VOLTAGE WHOSE RATE-OF-CHANGE OVER TIME IS PROPORTIONAL TO THE INPUT VOLTAGE'S MAGNITUDE.- THUS, GIVEN A CONSTANT INPUT VOLTAGE, THE OUTPUT VOLTAGE WILL--- CHANGE---- AT A CONSTANT--- RATE----.- IF THE CAR TRAVELS AT A CONSTANT VELOCITY (CONSTANT VOLTAGE INPUT TO THE INTEGRATOR CIRCUIT FROM THE TACHOGENERATOR), THEN ITS DISTANCE TRAVELED WILL INCREASE STEADILY AS TIME PROGRESSES, AND THE INTEGRATOR WILL OUTPUT A STEADILY CHANGING VOLTAGE PROPORTIONAL TO THAT DISTANCE.- IF THE CAR'S VELOCITY IS NOT CONSTANT, THEN NEITHER WILL THE RATE-OF-CHANGE OVER TIME BE OF THE INTEGRATOR CIRCUIT'S OUTPUT, BUT THE OUTPUT VOLTAGE--- WILL---- FAITHFULLY REPRESENT THE AMOUNT OF DISTANCE TRAVELED BY THE CAR AT ANY GIVEN POINT IN TIME.---------- THE SYMBOL FOR INTEGRATION LOOKS SOMETHING LIKE A VERY NARROW, CURSIVE LETTER "S".- THE EQUATION UTILIZING THIS SYMBOL TELLS US THAT WE ARE INTEGRATING VELOCITY (---V----) WITH RESPECT TO TIME (---DT----), AND OBTAINING POSITION (---X----) AS A RESULT OF IT.---------- SO, WE MAY EXPRESS THREE MEASURES OF THE CAR'S MOTION (POSITION, VELOCITY, AND ACCELERATION) IN TERMS OF VELOCITY (---V----) JUST AS EASILY AS WE COULD IN TERMS OF POSITION (---X----):------------------------------------------- IF WE HAD AN ACCELEROMETER ATTACHED TO THE CAR, GENERATING A SIGNAL PROPORTIONAL TO THE RATE OF ACCELERATION OR DECELERATION, WE COULD (HYPOTHETICALLY) OBTAIN A VELOCITY SIGNAL WITH ONE STEP OF INTEGRATION, AND A POSITION SIGNAL WITH A SECOND STEP OF INTEGRATION:------------------------------------------- THUS, ALL THREE MEASURES OF THE CAR'S MOTION (POSITION, VELOCITY, AND ACCELERATION) MAY BE EXPRESSED IN TERMS OF ACCELERATION:------------------------------------------- AS YOU MIGHT HAVE SUSPECTED, THE PROCESS OF INTEGRATION MAY BE ILLUSTRATED IN, AND APPLIED TO, OTHER PHYSICAL SYSTEMS AS WELL.- TAKE FOR EXAMPLE THE WATER STORAGE TANK AND FLOW EXAMPLE SHOWN EARLIER.- IF FLOW RATE IS THE DERIVATIVE OF TANK VOLUME WITH RESPECT TO TIME (---F = DV/DT----), THEN WE COULD ALSO SAY THAT VOLUME IS THE INTEGRAL OF FLOW RATE:------------------------------------------- IF WE WERE TO USE A "FLOW TRANSMITTER" DEVICE TO MEASURE WATER FLOW, THEN BY INTEGRATION WE COULD CALCULATE THE VOLUME OF WATER ACCUMULATED IN THE TANK OVER TIME.- ALTHOUGH IT IS THEORETICALLY POSSIBLE TO USE A CAPACITIVE OP-AMP INTEGRATOR CIRCUIT TO DERIVE A VOLUME SIGNAL FROM A FLOW SIGNAL, MECHANICAL AND DIGITAL ELECTRONIC "INTEGRATOR" DEVICES ARE MORE PRACTICAL FOR REASONS OF ERROR AND DRIFT, AND FIND FREQUENT USE IN THE WATER TREATMENT AND DISTRIBUTION INDUSTRIES.---------- JUST AS THERE ARE SYMBOLIC TECHNIQUES FOR DIFFERENTIATION, THERE ARE ALSO SYMBOLIC TECHNIQUES FOR INTEGRATION, ALTHOUGH THEY TEND TO BE MORE COMPLEX AND VARIED.- APPLYING SYMBOLIC INTEGRATION TO A REAL-WORLD PROBLEM LIKE THE ACCELERATION OF A CAR, THOUGH, IS STILL CONTINGENT ON THE AVAILABILITY OF AN EQUATION PRECISELY DESCRIBING THE MEASURED SIGNAL -- OFTEN A DIFFICULT OR IMPOSSIBLE THING TO DERIVE FROM MEASURED DATA.- HOWEVER, ELECTRONIC INTEGRATOR CIRCUITS PERFORM THIS MATHEMATICAL FUNCTION CONTINUOUSLY, IN REAL TIME, AND FOR--- ANY---- INPUT SIGNAL PROFILE, PROVIDING A POWERFUL TOOL FOR SCIENTISTS AND ENGINEERS.---------- HAVING SAID THIS, THERE ARE CAVEATS TO THE USING CALCULUS TECHNIQUES TO DERIVE ONE TYPE OF MEASUREMENT FROM ANOTHER.- DIFFERENTIATION HAS THE UNDESIRABLE TENDENCY OF AMPLIFYING "NOISE" FOUND IN THE MEASURED VARIABLE, SINCE THE NOISE WILL TYPICALLY APPEAR AS FREQUENCIES MUCH HIGHER THAN THE MEASURED VARIABLE, AND HIGH FREQUENCIES BY THEIR VERY NATURE POSSESS HIGH RATES-OF-CHANGE OVER TIME.------------ TO ILLUSTRATE THIS PROBLEM, SUPPOSE WE WERE DERIVING A MEASUREMENT OF CAR ACCELERATION FROM THE VELOCITY SIGNAL OBTAINED FROM A TACHOGENERATOR WITH WORN BRUSHES OR COMMUTATOR BARS.- POINTS OF POOR CONTACT BETWEEN BRUSH AND COMMUTATOR WILL PRODUCE MOMENTARY "DIPS" IN THE TACHOGENERATOR'S OUTPUT VOLTAGE, AND THE DIFFERENTIATOR CIRCUIT CONNECTED TO IT WILL INTERPRET THESE DIPS AS VERY RAPID CHANGES IN VELOCITY.- FOR A CAR MOVING AT CONSTANT SPEED -- NEITHER ACCELERATING NOR DECELERATING -- THE ACCELERATION SIGNAL SHOULD BE 0 VOLTS, BUT "NOISE" IN THE VELOCITY SIGNAL CAUSED BY A FAULTY TACHOGENERATOR WILL CAUSE THE DIFFERENTIATED (ACCELERATION) SIGNAL TO CONTAIN "SPIKES," FALSELY INDICATING BRIEF PERIODS OF HIGH ACCELERATION AND DECELERATION:------------------------------------------- NOISE VOLTAGE PRESENT IN A SIGNAL TO BE DIFFERENTIATED NEED NOT BE OF SIGNIFICANT AMPLITUDE TO CAUSE TROUBLE: ALL THAT IS REQUIRED IS THAT THE NOISE PROFILE HAVE FAST RISE OR FALL TIMES.- IN OTHER WORDS, ANY ELECTRICAL NOISE WITH A HIGH--- DV/DT---- COMPONENT WILL BE PROBLEMATIC WHEN DIFFERENTIATED, EVEN IF IT IS OF LOW AMPLITUDE.------------------------------------------------ IT SHOULD BE NOTED THAT THIS PROBLEM IS NOT AN ARTIFACT (AN IDIOSYNCRATIC ERROR OF THE MEASURING/COMPUTING INSTRUMENT) OF THE ANALOG CIRCUITRY; RATHER, IT IS INHERENT TO THE PROCESS OF DIFFERENTIATION.- NO MATTER HOW WE MIGHT PERFORM THE DIFFERENTIATION, "NOISE" IN THE VELOCITY SIGNAL WILL INVARIABLY CORRUPT THE OUTPUT SIGNAL.- OF COURSE, IF WE WERE DIFFERENTIATING A SIGNAL TWICE, AS WE DID TO OBTAIN BOTH VELOCITY AND ACCELERATION FROM A POSITION SIGNAL, THE AMPLIFIED NOISE SIGNAL OUTPUT BY THE FIRST DIFFERENTIATOR CIRCUIT WILL BE AMPLIFIED AGAIN BY THE NEXT DIFFERENTIATOR, THUS COMPOUNDING THE PROBLEM:------------------------------------------- INTEGRATION, ON THE OTHER HAND, DOES NOT SUFFER FROM THIS PROBLEM, BECAUSE HIGH-FREQUENCY NOISE TENDS TO BE FILTERED OUT.- ONE MIGHT SUPPOSE, THEN, THAT WE COULD AVOID ALL TROUBLE BY MEASURING ACCELERATION DIRECTLY AND INTEGRATING THAT SIGNAL TO OBTAIN VELOCITY; IN EFFECT, CALCULATING IN "REVERSE" FROM THE WAY SHOWN PREVIOUSLY:------------------------------------------- UNFORTUNATELY, FOLLOWING THIS METHODOLOGY MIGHT LEAD US INTO OTHER DIFFICULTIES, THE GREATEST BEING A COMMON ARTIFACT OF ANALOG INTEGRATOR CIRCUITS KNOWN AS--- DRIFT----.- ALL OP-AMPS HAVE SOME AMOUNT OF INPUT BIAS CURRENT, AND THIS CURRENT WILL TEND TO CAUSE A CHARGE TO ACCUMULATE ON THE CAPACITOR IN ADDITION TO WHATEVER CHARGE ACCUMULATES AS A RESULT OF THE INPUT VOLTAGE SIGNAL.- IN OTHER WORDS, ALL ANALOG INTEGRATOR CIRCUITS SUFFER FROM THE TENDENCY OF HAVING THEIR OUTPUT VOLTAGE "DRIFT" OR "CREEP" EVEN WHEN THERE IS ABSOLUTELY NO VOLTAGE INPUT, ACCUMULATING ERROR OVER TIME AS A RESULT.- ALSO, IMPERFECT CAPACITORS WILL TEND TO LOSE THEIR STORED CHARGE OVER TIME DUE TO INTERNAL RESISTANCE, RESULTING IN "DRIFT" TOWARD ZERO OUTPUT VOLTAGE.- THESE PROBLEMS--- ARE---- ARTIFACTS OF THE ANALOG CIRCUITRY, AND MAY BE ELIMINATED THROUGH THE USE OF DIGITAL COMPUTATION.---------- CIRCUIT ARTIFACTS NOTWITHSTANDING, POSSIBLE ERRORS MAY RESULT FROM THE INTEGRATION OF ONE MEASUREMENT -SUCH AS ACCELERATION) TO OBTAIN ANOTHER (SUCH AS VELOCITY) SIMPLY BECAUSE OF THE WAY INTEGRATION WORKS.- IF THE "ZERO" CALIBRATION POINT OF THE RAW SIGNAL SENSOR IS NOT PERFECT, IT WILL OUTPUT A SLIGHT POSITIVE OR NEGATIVE SIGNAL EVEN IN CONDITIONS WHEN IT SHOULD OUTPUT NOTHING.- CONSIDER A CAR WITH AN IMPERFECTLY CALIBRATED ACCELEROMETER, OR ONE THAT IS INFLUENCED BY GRAVITY TO DETECT A SLIGHT ACCELERATION UNRELATED TO CAR MOTION.- EVEN WITH A PERFECT INTEGRATING COMPUTER, THIS SENSOR ERROR WILL CAUSE THE INTEGRATOR TO ACCUMULATE ERROR, RESULTING IN AN OUTPUT SIGNAL INDICATING A CHANGE OF VELOCITY WHEN THE CAR IS NEITHER ACCELERATING NOR DECELERATING.--------------------------------------------- AS WITH DIFFERENTIATION, THIS ERROR WILL ALSO COMPOUND ITSELF IF THE INTEGRATED SIGNAL IS PASSED ON TO ANOTHER INTEGRATOR CIRCUIT, SINCE THE "DRIFTING" OUTPUT OF THE FIRST INTEGRATOR WILL VERY SOON PRESENT A SIGNIFICANT POSITIVE OR NEGATIVE SIGNAL FOR THE NEXT INTEGRATOR TO INTEGRATE.- THEREFORE, CARE SHOULD BE TAKEN WHEN INTEGRATING SENSOR SIGNALS: IF THE "ZERO" ADJUSTMENT OF THE SENSOR IS NOT--- PERFECT----, THE INTEGRATED RESULT WILL DRIFT, EVEN IF THE INTEGRATOR CIRCUIT ITSELF IS PERFECT.- AGAIN, IT SHOULD BE CLEARLY UNDERSTOOD THAT INTEGRATOR ERRORS SUCH AS THESE ARE FUNDAMENTALLY ERRORS WITH THE INTEGRATOR AND/OR SENSOR DEVICES THEMSELVES, AND NOT INHERENT TO THE PRINCIPLE OF SIGNAL INTEGRATION.- BY CONTRAST, DIFFERENTIATOR ERRORS (AMPLIFICATION OF HIGH-FREQUENCY NOISE) ARE INHERENT TO THE PROCESS OF DIFFERENTIATION AND ARE IMPOSSIBLE TO ELIMINATE WITHOUT COMPLETELY ELIMINATING INPUT SIGNAL NOISE.-------------------------  MEASUREMENT CIRCUITS -- PENDING--------------------------------------  CONTROL CIRCUITS -- PENDING--------------------------------------  CONTRIBUTORS-------------- CONTRIBUTORS TO THIS CHAPTER ARE LISTED IN CHRONOLOGICAL ORDER OF THEIR CONTRIBUTIONS, FROM MOST RECENT TO FIRST.- SEE APPENDIX 2 (CONTRIBUTOR LIST) FOR DATES AND CONTACT INFORMATION.------------- WARREN YOUNG---- (AUGUST 2002): INITIAL IDEA AND TEXT FOR "POWER SUPPLY CIRCUITS" SECTION.- PARAGRAPHS MODIFIED BY TONY KUPHALDT (CHANGES IN VOCABULARY, PLUS INCLUSION OF ADDITIONAL CONCEPTS).------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------